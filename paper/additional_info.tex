% ============================================================================
% WEDA-Fall Dataset: Comprehensive Kalman Fusion vs Raw Input Analysis
% ============================================================================
% Generated from experimental results
% Dataset: WEDA-Fall (50Hz sampling rate, 12-fold LOSO cross-validation)
% ============================================================================

\documentclass{article}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{array}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{colortbl}

\begin{document}

% ============================================================================
% TABLE 1: Summary - Best Results per Window Size
% ============================================================================
\begin{table*}[htbp]
\centering
\caption{WEDA-Fall: Best F1 Score per Window Size. Raw input consistently outperforms Kalman fusion across all tested window durations. The optimal configuration uses Raw input with Conv1d-Linear encoder at 7.7s window, achieving 95.08\% F1.}
\label{tab:wedafall_summary}
\renewcommand{\arraystretch}{1.3}
\begin{tabular}{@{}l c c c c c c c@{}}
\toprule
\textbf{Window} & \textbf{Samples} & \textbf{Best Input} & \textbf{Architecture} & \textbf{F1 (\%)} & \textbf{Acc (\%)} & \textbf{Prec (\%)} & \textbf{Recall (\%)} \\
\midrule
1.0s  & 50  & Raw & LSTM & 88.89 $\pm$ 2.15 & 84.42 & 83.90 & 94.62 \\
2.0s  & 100 & Raw & LSTM & 91.86 $\pm$ 2.86 & 89.03 & 88.14 & 95.99 \\
2.6s  & 128 & Raw & LSTM & 94.01 $\pm$ 3.39 & 92.43 & 91.72 & 96.70 \\
3.8s  & 192 & Raw & Conv1d-Conv1d & 92.54 $\pm$ 3.40 & 90.27 & -- & -- \\
4.0s  & 200 & Raw & LSTM & 94.48 $\pm$ 3.49 & 93.10 & 92.99 & 96.17 \\
5.8s  & 288 & Raw & Conv1d-Linear & 94.50 $\pm$ 1.90 & 93.54 & -- & -- \\
7.7s  & 384 & Raw & Conv1d-Linear & \textbf{95.08 $\pm$ 2.58} & \textbf{95.69} & -- & -- \\
\bottomrule
\end{tabular}
\end{table*}

% ============================================================================
% TABLE 2: Kalman vs Raw Direct Comparison (Same Architecture)
% ============================================================================
\begin{table*}[htbp]
\centering
\caption{WEDA-Fall: Head-to-head comparison of Kalman fusion vs Raw input using identical architectures. Positive $\Delta$ indicates Kalman advantage; negative indicates Raw advantage. Raw input wins in 11 of 13 direct comparisons.}
\label{tab:wedafall_head_to_head}
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{@{}l l r r r l@{}}
\toprule
\textbf{Window} & \textbf{Architecture} & \textbf{Kalman F1 (\%)} & \textbf{Raw F1 (\%)} & \textbf{$\Delta$ (\%)} & \textbf{Winner} \\
\midrule
\multirow{5}{*}{2.6s (128)}
    & Trans-Dual   & 91.49 & 90.43 & \cellcolor{green!15}+1.06 & Kalman \\
    & Trans-Single & 90.27 & 91.92 & \cellcolor{red!15}$-$1.65 & Raw \\
    & LSTM         & 90.22 & \textbf{94.01} & \cellcolor{red!15}$-$3.79 & \textbf{Raw} \\
    & CNN          & 91.17 & 93.27 & \cellcolor{red!15}$-$2.10 & Raw \\
    & Mamba        & 91.09 & 92.87 & \cellcolor{red!15}$-$1.78 & Raw \\
\midrule
\multirow{2}{*}{3.8s (192)}
    & Conv1d-Conv1d  & 91.53 & \textbf{92.54} & \cellcolor{red!15}$-$1.01 & Raw \\
    & Conv1d-Linear  & 89.88 & 92.24 & \cellcolor{red!15}$-$2.36 & Raw \\
\midrule
\multirow{2}{*}{5.8s (288)}
    & Conv1d-Conv1d  & \textbf{94.18} & 93.77 & \cellcolor{green!15}+0.41 & Kalman \\
    & Conv1d-Linear  & 92.40 & \textbf{94.50} & \cellcolor{red!15}$-$2.10 & \textbf{Raw} \\
\midrule
\multirow{2}{*}{7.7s (384)}
    & Conv1d-Conv1d  & 88.55 & 92.56 & \cellcolor{red!15}$-$4.01 & Raw \\
    & Conv1d-Linear  & 85.22 & \textbf{95.08} & \cellcolor{red!15}$-$9.86 & \textbf{Raw} \\
\bottomrule
\end{tabular}

\vspace{0.5em}
\footnotesize
\textit{Note:} Green cells indicate Kalman advantage; Red cells indicate Raw advantage. Bold values represent overall best for that window size.
\end{table*}

% ============================================================================
% TABLE 3: Detailed Results - 2.6s Window (Default Config)
% ============================================================================
\begin{table*}[htbp]
\centering
\caption{WEDA-Fall: Complete metrics at 2.6s window (128 samples). This window size corresponds to the default configuration used in stream comparison experiments.}
\label{tab:wedafall_2s6_detailed}
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{@{}l l c c c c c@{}}
\toprule
\textbf{Input} & \textbf{Architecture} & \textbf{F1 (\%)} & \textbf{Accuracy (\%)} & \textbf{Precision (\%)} & \textbf{Recall (\%)} & \textbf{AUC (\%)} \\
\midrule
Raw & LSTM & \textbf{94.01 $\pm$ 3.39} & \textbf{92.43 $\pm$ 4.17} & \textbf{91.72 $\pm$ 4.31} & 96.70 $\pm$ 5.19 & \textbf{97.70 $\pm$ 2.71} \\
Raw & CNN & 93.27 $\pm$ 2.37 & 91.27 $\pm$ 3.16 & 89.24 $\pm$ 2.60 & \textbf{97.75 $\pm$ 3.11} & 97.40 $\pm$ 2.43 \\
Raw & Mamba & 92.87 $\pm$ 3.16 & 90.61 $\pm$ 4.52 & 88.97 $\pm$ 5.73 & 97.45 $\pm$ 3.06 & 97.07 $\pm$ 2.49 \\
Raw & Trans-Single & 91.92 $\pm$ 3.07 & 89.45 $\pm$ 4.45 & 88.37 $\pm$ 4.88 & 96.03 $\pm$ 4.01 & 95.26 $\pm$ 4.77 \\
\midrule
Kalman & Trans-Dual & 91.49 $\pm$ 4.32 & 88.82 $\pm$ 6.00 & 87.41 $\pm$ 6.07 & 96.19 $\pm$ 3.76 & 95.76 $\pm$ 6.22 \\
Kalman & CNN & 91.17 $\pm$ 2.79 & 88.45 $\pm$ 3.72 & 86.31 $\pm$ 3.85 & 96.77 $\pm$ 3.41 & 96.42 $\pm$ 3.69 \\
Kalman & Mamba & 91.09 $\pm$ 5.79 & 88.36 $\pm$ 8.07 & 88.03 $\pm$ 7.46 & 94.65 $\pm$ 5.59 & 94.27 $\pm$ 10.85 \\
Kalman & Trans-Single & 90.27 $\pm$ 8.19 & 87.92 $\pm$ 8.84 & 86.96 $\pm$ 5.42 & 94.42 $\pm$ 11.73 & 95.80 $\pm$ 6.84 \\
Kalman & LSTM & 90.22 $\pm$ 6.24 & 87.58 $\pm$ 7.27 & 87.37 $\pm$ 5.57 & 93.82 $\pm$ 9.23 & 94.97 $\pm$ 6.17 \\
Raw & Trans-Dual & 90.43 $\pm$ 2.63 & 87.25 $\pm$ 3.93 & 84.92 $\pm$ 5.43 & 97.10 $\pm$ 3.23 & 94.52 $\pm$ 4.58 \\
\bottomrule
\end{tabular}
\end{table*}

% ============================================================================
% TABLE 4: Window Size Scaling Analysis
% ============================================================================
\begin{table*}[htbp]
\centering
\caption{WEDA-Fall: Impact of window size on Kalman vs Raw performance. As window size increases, Kalman fusion performance degrades relative to Raw input, with the gap widening from $-$2.52\% at 2.6s to $-$9.86\% at 7.7s for the best configurations.}
\label{tab:wedafall_scaling}
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{@{}l c c c c l@{}}
\toprule
\textbf{Window} & \textbf{Duration (s)} & \textbf{Best Kalman F1} & \textbf{Best Raw F1} & \textbf{Gap (\%)} & \textbf{Interpretation} \\
\midrule
50 samples  & 1.0s & -- & 88.89 & -- & Too short for patterns \\
100 samples & 2.0s & -- & 91.86 & -- & Improving with length \\
128 samples & 2.6s & 91.49 & 94.01 & $-$2.52 & Raw consistently better \\
192 samples & 3.8s & 91.53 & 92.54 & $-$1.01 & Gap narrowing \\
200 samples & 4.0s & -- & 94.48 & -- & Near optimal length \\
288 samples & 5.8s & 94.18 & 94.50 & $-$0.32 & Closest performance \\
384 samples & 7.7s & 88.55 & 95.08 & $-$6.53 & Kalman degrades sharply \\
\bottomrule
\end{tabular}

\vspace{0.5em}
\footnotesize
\textit{Key Finding:} Kalman fusion performance peaks at 5.8s (94.18\%) then degrades significantly at 7.7s (88.55\%), while Raw input continues improving. This suggests Kalman over-smoothing removes high-frequency transient information critical for fall detection.
\end{table*}

% ============================================================================
% TABLE 5: Architecture Comparison (Raw Input Only)
% ============================================================================
\begin{table*}[htbp]
\centering
\caption{WEDA-Fall: Architecture comparison using Raw input across window sizes. LSTM and Conv1d-Linear consistently outperform other architectures.}
\label{tab:wedafall_arch_raw}
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{@{}l c c c c c@{}}
\toprule
\textbf{Architecture} & \textbf{1.0s} & \textbf{2.0s} & \textbf{2.6s} & \textbf{4.0s} & \textbf{Best Window} \\
\midrule
LSTM & 88.89 & \textbf{91.86} & \textbf{94.01} & \textbf{94.48} & 4.0s \\
CNN & -- & -- & 93.27 & -- & 2.6s \\
Mamba & -- & -- & 92.87 & -- & 2.6s \\
Trans-Single & -- & -- & 91.92 & -- & 2.6s \\
Trans-Dual & -- & -- & 90.43 & -- & 2.6s \\
Conv1d-Linear & -- & -- & -- & -- & 7.7s (95.08) \\
Conv1d-Conv1d & -- & -- & -- & -- & 3.8s (92.54) \\
\bottomrule
\end{tabular}

\vspace{0.5em}
\footnotesize
\textit{Note:} Dashes indicate configurations not tested. Conv1d-Linear achieves the overall best result (95.08\% at 7.7s window).
\end{table*}

% ============================================================================
% TABLE 6: Conv1d-Conv1d Architecture Focus
% ============================================================================
\begin{table*}[htbp]
\centering
\caption{WEDA-Fall: Conv1d-Conv1d Architecture Comparison (Symmetric Dual-Stream Encoder). This architecture uses identical Conv1d encoders for both accelerometer and orientation/gyroscope streams.}
\label{tab:wedafall_conv1d_conv1d}
\renewcommand{\arraystretch}{1.3}
\begin{tabular}{@{}l c c c c l@{}}
\toprule
\textbf{Window} & \textbf{Kalman F1 (\%)} & \textbf{Raw F1 (\%)} & \textbf{$\Delta$ (\%)} & \textbf{Kalman Acc (\%)} & \textbf{Winner} \\
\midrule
3.8s (192 samples) & 91.53 $\pm$ 4.54 & \textbf{92.54 $\pm$ 3.40} & $-$1.01 & 88.88 & Raw \\
5.8s (288 samples) & \textbf{94.18 $\pm$ 4.86} & 93.77 $\pm$ 2.35 & \cellcolor{green!15}+0.41 & 93.21 & \textbf{Kalman} \\
7.7s (384 samples) & 88.55 $\pm$ 12.57 & \textbf{92.56 $\pm$ 6.34} & $-$4.01 & 91.66 & Raw \\
\midrule
\multicolumn{6}{l}{\textit{Summary for Conv1d-Conv1d:}} \\
\midrule
Best Kalman & \multicolumn{5}{l}{94.18\% F1 at 5.8s window (288 samples)} \\
Best Raw & \multicolumn{5}{l}{93.77\% F1 at 5.8s window (288 samples)} \\
Kalman wins & \multicolumn{5}{l}{1 of 3 window sizes (5.8s only, by +0.41\%)} \\
\bottomrule
\end{tabular}

\vspace{0.5em}
\footnotesize
\textit{Key Finding:} With Conv1d-Conv1d encoder, Kalman fusion shows a marginal advantage (+0.41\%) only at the 5.8s window. At shorter (3.8s) and longer (7.7s) windows, Raw input is superior. The 7.7s window shows Kalman's significant degradation ($-$4.01\%) due to over-smoothing of long temporal sequences.
\end{table*}

% ============================================================================
% SUMMARY STATISTICS
% ============================================================================
\begin{table}[htbp]
\centering
\caption{WEDA-Fall: Summary Statistics Across All Experiments}
\label{tab:wedafall_stats}
\renewcommand{\arraystretch}{1.3}
\begin{tabular}{@{}l r@{}}
\toprule
\textbf{Metric} & \textbf{Value} \\
\midrule
Total configurations tested & 35+ \\
Window sizes tested & 7 (1.0s -- 7.7s) \\
Architectures tested & 7 \\
Cross-validation folds & 12 (LOSO) \\
\midrule
\textbf{Best Overall F1} & \textbf{95.08\%} \\
Best configuration & Raw + Conv1d-Linear \\
Best window size & 7.7s (384 samples) \\
\midrule
Kalman wins (head-to-head) & 2 / 13 (15.4\%) \\
Raw wins (head-to-head) & 11 / 13 (84.6\%) \\
Average Kalman disadvantage & $-$2.73\% \\
\bottomrule
\end{tabular}
\end{table}

% ============================================================================
% KEY FINDINGS (Text Summary)
% ============================================================================
\section*{Key Findings}

\begin{enumerate}
    \item \textbf{Raw input consistently outperforms Kalman fusion} across all window sizes and most architectures tested on WEDA-Fall dataset.

    \item \textbf{Optimal configuration:} Raw input with Conv1d-Linear encoder at 7.7 second window achieves \textbf{95.08\% F1 score}.

    \item \textbf{Kalman fusion degrades with longer windows:} Performance peaks at 5.8s (94.18\%) then drops sharply to 88.55\% at 7.7s, while Raw continues improving.

    \item \textbf{LSTM excels at shorter windows:} For windows $\leq$ 4 seconds, LSTM with Raw input achieves best results (up to 94.48\% F1).

    \item \textbf{Kalman fusion only wins with Trans-Dual architecture} at 2.6s window (+1.06\%) and Conv1d-Conv1d at 5.8s (+0.41\%), but these gains are marginal.

    \item \textbf{Recall is consistently high} ($>$94\%) for both Kalman and Raw, indicating good fall detection sensitivity. The difference lies primarily in Precision (Raw achieves higher precision, fewer false alarms).
\end{enumerate}

\section*{Recommendation}

For WEDA-Fall fall detection with \textbf{Conv1d-Conv1d architecture} (symmetric dual-stream encoder):
\begin{itemize}
    \item \textbf{Raw input consistently outperforms Kalman} at all window sizes
    \item \textbf{Optimal Conv1d-Conv1d:} 5.8s window + Raw = 93.77\% F1
    \item \textbf{Kalman Conv1d-Conv1d peak:} 5.8s window = 94.18\% F1 (only config where Kalman wins)
    \item \textbf{At 7.7s:} Raw Conv1d-Conv1d (92.56\%) beats Kalman Conv1d-Conv1d (88.55\%) by 4.01\%
\end{itemize}

\textbf{Key insight for Conv1d-Conv1d:} At the optimal 5.8s window, Kalman shows a marginal +0.41\% advantage. However, this is the \textit{only} window size where Kalman wins with this architecture. At all other window sizes, Raw input is superior.

Kalman fusion is generally not recommended as it introduces smoothing that removes high-frequency transient signals critical for fall detection, with benefits only appearing in narrow operating conditions.

\end{document}
